# GitHub Metrics Self-Host Diagnostics

## Overview

This repository uses **self-hosted GitHub metrics** generated via [lowlighter/metrics](https://github.com/lowlighter/metrics) and committed directly to the repository. This eliminates dependencies on external API services and ensures permanent stability.

## Generated SVG Files

The following SVG files are automatically generated by the `metrics.yml` workflow:

| File | Description | Status |
|------|-------------|--------|
| `./metrics/overview.svg` | General overview with achievements | ⏳ Pending first workflow run |
| `./metrics/github-stats.svg` | Repository and issue/PR statistics | ⏳ Pending first workflow run |
| `./metrics/top-languages.svg` | Most used programming languages | ⏳ Pending first workflow run |
| `./metrics/contributions.svg` | Contribution calendar and habits | ⏳ Pending first workflow run |
| `./github-metrics.svg` | Complete metrics dashboard (legacy) | ✅ Generated |

## Active Plugins

The following plugins are configured in the workflow:

### Overview Metrics (`metrics/overview.svg`)

- Base: header, activity, community, repositories
- Achievements plugin (compact display)

### GitHub Stats (`metrics/github-stats.svg`)

- Base: header, repositories
- Follow-up plugin (issues and PRs ratio tracking)

### Top Languages (`metrics/top-languages.svg`)

- Languages plugin with:
  - Categories: markup, programming
  - Limit: 8 languages
  - Analysis period: 365 days
  - Color scheme: GitHub default

### Contributions (`metrics/contributions.svg`)

- Isocalendar plugin (full year view)
- Habits plugin with:
  - Analysis of last 200 events
  - 30-day habit charts

### Legacy Metrics (`github-metrics.svg`)

- Steam integration (if configured)
- Achievements plugin
- Languages plugin

## Token Configuration

| Secret | Purpose | Required Scopes |
|--------|---------|-----------------|
| `METRICS_TOKEN` | GitHub API access for metrics | `read:user`, `repo` (for private stats) |
| `STEAM_TOKEN` | Steam Web API integration | Steam API Key |
| `PERSONAL_ACCESS_KEY` | Profile summary cards (optional) | `repo` |

## Workflow Schedule

- **Automatic**: Runs daily at midnight UTC (cron: `0 0 * * *`)
- **Manual**: Can be triggered via workflow_dispatch
- **On Push**: Runs on pushes to `master` or `main` branches

## Benefits of Self-Hosting

1. **No API downtime** - Stats are always available as static SVG files
2. **No rate limiting** - Generated once per day, served statically
3. **Fast loading** - SVGs load instantly from the repository
4. **Dark mode compatible** - SVGs work in both light and dark modes
5. **Mobile friendly** - Consistent rendering on all devices
6. **Version controlled** - Full history of stats changes

## Removed External Dependencies

The following external services have been replaced with self-hosted alternatives:

| External Service | Replacement |
|------------------|-------------|
| `github-readme-stats.vercel.app` | `./metrics/github-stats.svg`, `./metrics/top-languages.svg` |
| `github-readme-streak-stats.herokuapp.com` | `./metrics/contributions.svg` |
| `capsule-render.vercel.app` | `./branding/header.svg` |

## Troubleshooting

### SVGs not updating

1. Check the Actions tab for workflow failures
2. Verify `METRICS_TOKEN` secret is configured correctly
3. Check if rate limiting occurred (cached data may be used)

### Missing SVG files

If SVG files are missing after the first push, manually trigger the workflow:

1. Go to Actions → Metrics → Run workflow
2. Wait for the workflow to complete
3. Pull the latest changes

### Token permissions

Ensure the `METRICS_TOKEN` has these scopes:

- `read:user` (required)
- `repo` (for private repository stats)
- `read:org` (for organization metrics, optional)

## Future Enhancement Ideas

- [ ] Add repository pinned projects panel
- [ ] Add coding activity graph
- [ ] Add wakatime integration (if available)
- [ ] Add stargazers chart
- [ ] Add notable contributions panel
- [ ] Add theme variants (light/dark specific SVGs)
- [ ] Add combined dashboard SVG (multi-panel layout)

## Date of Implementation

2025-11-30

## Related Files

- Workflow: `.github/workflows/metrics.yml`
- Output directory: `./metrics/`
- Legacy output: `./github-metrics.svg`
